import { bold } from '../utils/formatting.js';

/**
 * Help command â€” shows users what Garbanzo can do.
 *
 * Separate help for regular members and owner-only commands.
 */

export function getHelpMessage(): string {
  return [
    `${bold('Hey, I\'m Garbanzo Bean!')} ðŸ«˜`,
    'Your Boston community bot. Here\'s what I can do:',
    '',
    `${bold('Weather')}`,
    '  !weather â€” current conditions in Boston',
    '  !weather [city] â€” weather elsewhere',
    '  !forecast â€” 5-day forecast',
    '',
    `${bold('MBTA Transit')}`,
    '  !transit â€” current service alerts',
    '  !transit [station] â€” live arrivals',
    '  !mbta red line â€” line status',
    '',
    `${bold('News')}`,
    '  !news â€” top US headlines',
    '  !news [topic] â€” search for articles',
    '',
    `${bold('Events')}`,
    '  !events [idea] â€” plan an outing',
    '',
    `${bold('D&D 5e')}`,
    '  !roll d20 â€” roll dice',
    '  !roll 2d6+3 â€” multiple dice + modifier',
    '  !dnd spell fireball â€” spell lookup',
    '  !dnd monster goblin â€” monster stats',
    '  !dnd class wizard â€” class info',
    '  !dnd item longsword â€” equipment lookup',
    '',
    `${bold('Venues')}`,
    '  !venue bars in somerville â€” search near Boston',
    '  !venue escape rooms â€” find places',
    '  !venue details [name] â€” phone, hours, website',
    '',
    `${bold('Book Club')}`,
    '  !book [title] â€” search by title',
    '  !book author [name] â€” books by author',
    '  !book isbn [number] â€” ISBN lookup',
    '',
    `${bold('Polls')}`,
    '  !poll Question? / Option 1 / Option 2 / Option 3',
    '  !poll multi Pick two / A / B / C â€” multi-select',
    '',
    `${bold('Character Sheets')}`,
    '  !character â€” random Level 1 character + PDF',
    '  !character elf wizard â€” specify race/class',
    '  !char dwarf â€” random class, specific race',
    '',
    `${bold('Fun')}`,
    '  !trivia â€” random trivia question',
    '  !trivia [category] â€” by category',
    '  !fact â€” random fun fact',
    '  !today â€” this day in history',
    '  !icebreaker â€” conversation starter',
    '',
    `${bold('Your Profile')}`,
    '  !profile â€” view your profile',
    '  !profile interests hiking, cooking â€” set interests',
    '  !profile name Alex â€” set display name',
    '  !profile delete â€” remove your data',
    '',
    `${bold('Conversation')}`,
    '  !summary â€” summarize recent chat (last 50 msgs)',
    '  !summary 100 â€” summarize last 100 messages',
    '  !catchup / !missed â€” same as !summary',
    '  !recommend / !recs â€” event ideas based on your interests',
    '',
    `${bold('Voice & Media')}`,
    '  !voice â€” speak the replied-to message aloud',
    '  !voice british â€” use a specific voice',
    '  !voice list â€” show all available voices',
    '  Send an image/video/sticker and @mention me â€” I\'ll describe it',
    '  Send a voice note â€” I\'ll transcribe and respond',
    '  Share a YouTube link â€” I\'ll transcribe and summarize',
    '',
    `${bold('Feedback')}`,
    '  !suggest <idea> â€” submit a feature suggestion',
    '  !bug <description> â€” report a bug',
    '  !upvote <id> â€” upvote an existing suggestion/report',
    '',
    `${bold('Anything Else')}`,
    '  Just ask! I can answer questions, give Boston',
    '  recs, or chat about whatever.',
    '',
    '_You can also use natural language â€” "what\'s the weather?" works too._',
    '_Send me images, voice notes, or links â€” I understand multimedia._',
    '_@mention me in any group to get started._',
  ].join('\n');
}

/**
 * Owner-only help â€” shown in DM when owner sends !help admin or !admin.
 */
export function getOwnerHelpMessage(): string {
  return [
    `${bold('Owner Commands')} ðŸ”§`,
    '',
    `${bold('Memory')}`,
    '  !memory â€” list all stored community facts',
    '  !memory add <category> <fact> â€” store a fact',
    '  !memory delete <id> â€” remove a fact',
    '  !memory search <keyword> â€” search facts',
    '',
    `${bold('Feedback Review')}`,
    '  !feedback â€” view all pending suggestions/bugs',
    '  !feedback digest â€” summary of recent feedback',
    '',
    `${bold('Moderation')}`,
    '  !strikes â€” view strike counts',
    '  !catchup intros â€” recent introductions summary',
    '',
    `${bold('Releases')}`,
    '  !release <notes> â€” broadcast release notes to all groups',
    '  !release <group> <notes> â€” broadcast to specific group',
    '',
    '_These commands only work in DM with the bot._',
  ].join('\n');
}
